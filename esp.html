<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESP Needs Analysis Study Guide</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* CSS Variables */
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --esp: #9b59b6;
            --light-bg: #ecf0f1;
            --light-card: #ffffff;
            --dark-text: #2c3e50;
            --light-text: #7f8c8d;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --border-radius: 10px;
            --box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        /* Dark mode */
        .dark-mode {
            --primary: #3498db;
            --secondary: #2c3e50;
            --accent: #e74c3c;
            --esp: #9b59b6;
            --light-bg: #2c3e50;
            --light-card: #34495e;
            --dark-text: #ecf0f1;
            --light-text: #bdc3c7;
        }

        /* Reset & Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light-bg);
            color: var(--dark-text);
            line-height: 1.6;
            padding-bottom: 50px;
            font-size: 100%;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary), var(--esp));
            color: white;
            padding: 30px 0;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            position: relative;
        }

        header h1 {
            font-size: 2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        header p {
            font-size: 1.1rem;
            opacity: 0.95;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .header-controls {
            position: absolute;
            top: 25px;
            right: 25px;
            display: flex;
            gap: 12px;
        }

        .theme-toggle, .font-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 42px;
            height: 42px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            font-size: 1.1rem;
        }

        .theme-toggle:hover, .font-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.08);
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            margin: 25px auto;
            overflow: hidden;
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 15px;
            z-index: 100;
            flex-wrap: wrap;
            max-width: 95%;
        }

        .tab-btn {
            flex: 1;
            min-width: 150px;
            background: none;
            border: none;
            padding: 20px 10px;
            font-weight: 600;
            color: var(--light-text);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            position: relative;
        }

        .tab-btn i {
            font-size: 1.4rem;
        }

        .tab-btn.active {
            color: var(--primary);
            background-color: rgba(44, 62, 80, 0.08);
        }

        .tab-btn.active::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 15%;
            right: 15%;
            height: 4px;
            background-color: var(--esp);
            border-radius: 2px 2px 0 0;
        }

        /* Content Sections */
        .content-section {
            display: none;
            animation: fadeIn 0.6s;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards */
        .section-card {
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
            border-left: 6px solid var(--esp);
            transition: var(--transition);
        }

        .section-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }

        .section-title {
            color: var(--primary);
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(44, 62, 80, 0.1);
            display: flex;
            align-items: center;
            gap: 18px;
            font-size: 1.6rem;
        }

        .section-title i {
            color: var(--esp);
            background: rgba(155, 89, 182, 0.1);
            width: 55px;
            height: 55px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .subsection-title {
            color: var(--esp);
            margin: 30px 0 18px;
            font-size: 1.4rem;
            padding-left: 15px;
            border-left: 5px solid var(--accent);
        }

        /* Tables */
        .table-wrapper {
            width: 100%;
            overflow-x: auto;
            margin: 25px 0;
            border-radius: var(--border-radius);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
        }

        .table-wrapper::-webkit-scrollbar {
            height: 8px;
        }

        .table-wrapper::-webkit-scrollbar-track {
            background: rgba(44, 62, 80, 0.05);
            border-radius: 4px;
        }

        .table-wrapper::-webkit-scrollbar-thumb {
            background: var(--esp);
            border-radius: 4px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 700px;
        }

        table th {
            background-color: var(--primary);
            color: white;
            padding: 18px 15px;
            text-align: left;
            font-weight: 600;
            font-size: 1rem;
        }

        table td {
            padding: 16px 15px;
            border-bottom: 1px solid rgba(44, 62, 80, 0.1);
            font-size: 0.98rem;
        }

        table tr:nth-child(even) {
            background-color: rgba(44, 62, 80, 0.03);
        }

        table tr:hover {
            background-color: rgba(44, 62, 80, 0.08);
        }

        /* Interactive Elements */
        .toggle-btn {
            background-color: var(--esp);
            color: white;
            border: none;
            padding: 14px 24px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            margin: 15px 0;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 12px;
            font-size: 1rem;
        }

        .toggle-btn:hover {
            background-color: var(--accent);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(155, 89, 182, 0.3);
        }

        .hidden-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s ease;
            background-color: rgba(44, 62, 80, 0.03);
            border-radius: var(--border-radius);
            margin-top: 15px;
        }

        .hidden-content.active {
            max-height: 2000px;
            padding: 25px;
            margin-top: 15px;
        }

        /* Concept Cards */
        .concept-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }

        .concept-card {
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--box-shadow);
            border-top: 6px solid var(--esp);
            transition: var(--transition);
            height: 100%;
        }

        .concept-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.12);
        }

        .concept-title {
            color: var(--primary);
            margin-bottom: 18px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* Badges */
        .badge {
            display: inline-block;
            background: rgba(44, 62, 80, 0.1);
            color: var(--primary);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin: 3px 5px;
        }

        .badge-key {
            background: rgba(52, 152, 219, 0.1);
            color: var(--secondary);
        }

        .badge-type {
            background: rgba(155, 89, 182, 0.1);
            color: var(--esp);
        }

        .badge-instrument {
            background: rgba(231, 76, 60, 0.1);
            color: var(--accent);
        }

        /* Quote and Special Boxes */
        .quote {
            background: linear-gradient(135deg, rgba(44, 62, 80, 0.05), rgba(52, 152, 219, 0.05));
            padding: 25px;
            border-radius: var(--border-radius);
            border-left: 6px solid var(--secondary);
            margin: 25px 0;
            font-style: italic;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .highlight-box {
            background: linear-gradient(135deg, rgba(155, 89, 182, 0.1), rgba(52, 152, 219, 0.1));
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            border-left: 6px solid var(--esp);
        }

        .definition-box {
            background: rgba(52, 152, 219, 0.05);
            padding: 20px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            border-left: 4px solid var(--secondary);
        }

        .theory-box {
            background: rgba(155, 89, 182, 0.05);
            padding: 20px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            border-left: 4px solid var(--esp);
        }

        /* Steps Timeline */
        .steps-timeline {
            position: relative;
            padding: 30px 0;
        }

        .steps-timeline:before {
            content: '';
            position: absolute;
            left: 30px;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(to bottom, var(--secondary), var(--esp));
            border-radius: 2px;
        }

        .step-item {
            position: relative;
            padding-left: 80px;
            margin-bottom: 40px;
        }

        .step-circle {
            position: absolute;
            left: 20px;
            top: 0;
            width: 30px;
            height: 30px;
            background: var(--esp);
            border-radius: 50%;
            border: 4px solid var(--light-card);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .step-title {
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        /* ESP Process Diagram */
        .process-diagram {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .process-step {
            background: var(--light-card);
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            text-align: center;
            border-top: 5px solid var(--esp);
            transition: var(--transition);
            position: relative;
        }

        .process-step:hover {
            transform: translateY(-5px);
        }

        .process-step:before {
            content: 'â†’';
            position: absolute;
            right: -15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
            color: var(--esp);
        }

        .process-step:last-child:before {
            display: none;
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: var(--esp);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Quiz Section */
        .quiz-container {
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .quiz-progress {
            font-weight: 700;
            color: var(--primary);
            background: rgba(44, 62, 80, 0.1);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 1rem;
        }

        .quiz-question {
            font-size: 1.3rem;
            margin-bottom: 30px;
            color: var(--dark-text);
            line-height: 1.5;
            background: rgba(44, 62, 80, 0.05);
            padding: 25px;
            border-radius: var(--border-radius);
            border-left: 6px solid var(--esp);
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .quiz-option {
            padding: 20px;
            border: 2px solid rgba(44, 62, 80, 0.1);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .quiz-option:hover {
            background-color: rgba(44, 62, 80, 0.05);
            border-color: var(--primary);
        }

        .quiz-option.selected {
            background-color: rgba(44, 62, 80, 0.1);
            border-color: var(--primary);
        }

        .quiz-option.correct {
            background-color: rgba(39, 174, 96, 0.1);
            border-color: var(--success);
        }

        .quiz-option.incorrect {
            background-color: rgba(231, 76, 60, 0.1);
            border-color: var(--danger);
        }

        .option-letter {
            width: 40px;
            height: 40px;
            background: rgba(44, 62, 80, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--dark-text);
            flex-shrink: 0;
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .quiz-btn {
            background-color: var(--esp);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quiz-btn:hover:not(:disabled) {
            background-color: var(--accent);
            transform: translateY(-2px);
        }

        .quiz-btn:disabled {
            background-color: var(--light-text);
            cursor: not-allowed;
        }

        /* Results Section */
        .quiz-results {
            text-align: center;
            padding: 30px;
        }

        .quiz-score {
            font-size: 3rem;
            font-weight: bold;
            color: var(--esp);
            margin: 20px 0;
        }

        .result-message {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto 30px;
            line-height: 1.6;
        }

        .question-review {
            background: rgba(44, 62, 80, 0.03);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: left;
            border-left: 5px solid;
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 50px;
            color: var(--light-text);
            font-size: 0.95rem;
            padding-top: 25px;
            border-top: 1px solid rgba(44, 62, 80, 0.1);
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            header h1 {
                font-size: 1.8rem;
            }
            
            .section-card {
                padding: 25px;
            }
            
            .process-diagram {
                grid-template-columns: 1fr;
            }
            
            .process-step:before {
                display: none;
            }
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.5rem;
                flex-direction: column;
                gap: 10px;
            }
            
            header p {
                font-size: 1rem;
                padding: 0 15px;
            }
            
            .header-controls {
                position: relative;
                top: 0;
                right: 0;
                margin: 20px auto 0;
                justify-content: center;
                width: 100%;
            }
            
            .nav-tabs {
                margin: 15px 10px;
            }
            
            .tab-btn {
                min-width: 120px;
                padding: 15px 5px;
                font-size: 0.9rem;
            }
            
            .section-card {
                padding: 20px;
            }
            
            .section-title {
                font-size: 1.3rem;
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .concept-grid {
                grid-template-columns: 1fr;
            }
            
            .quiz-question {
                font-size: 1.1rem;
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }
            
            header {
                padding: 20px 0;
            }
            
            .nav-tabs {
                overflow-x: auto;
                white-space: nowrap;
                flex-wrap: nowrap;
            }
            
            .tab-btn {
                min-width: 110px;
            }
            
            .quiz-controls {
                flex-direction: column;
            }
            
            .quiz-btn {
                width: 100%;
                justify-content: center;
            }
            
            table th, table td {
                padding: 12px 8px;
                font-size: 0.9rem;
            }
        }

        /* Questionnaire Sample */
        .questionnaire-sample {
            background: var(--light-card);
            border-radius: var(--border-radius);
            padding: 30px;
            margin: 30px 0;
            border: 2px dashed var(--esp);
        }

        .questionnaire-section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(44, 62, 80, 0.1);
        }

        .question-item {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(44, 62, 80, 0.02);
            border-radius: 8px;
        }

        /* Workshop Task */
        .workshop-task {
            background: linear-gradient(135deg, rgba(155, 89, 182, 0.1), rgba(52, 152, 219, 0.1));
            padding: 30px;
            border-radius: var(--border-radius);
            margin: 30px 0;
            border-left: 6px solid var(--accent);
        }

        .task-item {
            margin-bottom: 20px;
            padding-left: 20px;
            border-left: 3px solid var(--esp);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-controls">
                <button class="theme-toggle" id="theme-toggle" title="Toggle dark mode">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="font-toggle" id="font-toggle" title="Adjust font size">
                    <i class="fas fa-text-height"></i>
                </button>
            </div>
            
            <h1>
                <i class="fas fa-clipboard-check"></i>
                ESP Needs Analysis Study Guide
            </h1>
            <p>Master 1 - Didactics of Teaching ESP | Course Tutor: Dr. Ouafa Ouarniki | University Ziane Achour, Djelfa</p>
        </div>
    </header>
    
    <!-- Navigation Tabs -->
    <div class="nav-tabs container">
        <button class="tab-btn active" data-target="overview">
            <i class="fas fa-book"></i>
            <span>Introduction</span>
        </button>
        <button class="tab-btn" data-target="types">
            <i class="fas fa-list"></i>
            <span>Types of NA</span>
        </button>
        <button class="tab-btn" data-target="instruments">
            <i class="fas fa-tools"></i>
            <span>Instruments</span>
        </button>
        <button class="tab-btn" data-target="process">
            <i class="fas fa-project-diagram"></i>
            <span>Process & Steps</span>
        </button>
        <button class="tab-btn" data-target="quiz">
            <i class="fas fa-question-circle"></i>
            <span>Quiz</span>
        </button>
    </div>
    
    <!-- Main Content Container -->
    <div class="container">
        <!-- Overview Section -->
        <section id="overview" class="content-section active">
            <!-- Introduction -->
            <div class="section-card">
                <h2 class="section-title">
                    <i class="fas fa-graduation-cap"></i>
                    Introduction to Needs Analysis in ESP
                </h2>
                
                <p><strong>Needs Analysis (NA)</strong> is the systematic and comprehensive study of the language needs of target learners, their goals and objectives, and the context in which they will use English. It serves as the foundation for designing ESP courses that are tailored to specific learner requirements.</p>
                
                <div class="quote">
                    <p>"In the context of ESP, needs analysis has become the dynamic impulse underlying course design, the justification for the S and the P, the driving force that has motivated teachers and course designers throughout the world ever since the magic acronym ESP came in." - Escorcia (1985:53)</p>
                </div>
                
                <div class="highlight-box">
                    <h3>Why Needs Analysis is Crucial in ESP</h3>
                    <ul>
                        <li><strong>Course Design Foundation:</strong> Provides basis for curriculum development</li>
                        <li><strong>Relevance:</strong> Ensures course content matches learner requirements</li>
                        <li><strong>Efficiency:</strong> Focuses on essential language skills and competencies</li>
                        <li><strong>Motivation:</strong> Increases learner engagement through relevant content</li>
                        <li><strong>Assessment:</strong> Guides evaluation of learning outcomes</li>
                    </ul>
                </div>
                
                <div class="subsection-title">Key Definitions of Needs Analysis</div>
                
                <div class="concept-grid">
                    <div class="concept-card">
                        <h3 class="concept-title">
                            <i class="fas fa-search"></i>
                            Nunan (1988)
                        </h3>
                        <p>"A family of procedures for gathering information about learners and about communication tasks."</p>
                        <div style="margin-top: 15px;">
                            <span class="badge badge-key">Procedural</span>
                            <span class="badge badge-key">Information Gathering</span>
                        </div>
                    </div>
                    
                    <div class="concept-card">
                        <h3 class="concept-title">
                            <i class="fas fa-cogs"></i>
                            Brown (1995)
                        </h3>
                        <p>"The systematic collection and analysis of all information necessary for defining a defensible curriculum."</p>
                        <div style="margin-top: 15px;">
                            <span class="badge badge-key">Systematic</span>
                            <span class="badge badge-key">Curriculum Focus</span>
                        </div>
                    </div>
                    
                    <div class="concept-card">
                        <h3 class="concept-title">
                            <i class="fas fa-link"></i>
                            Holec (1980)
                        </h3>
                        <p>"A classical procedure by which a close link can be established between the learners and the curricula."</p>
                        <div style="margin-top: 15px;">
                            <span class="badge badge-key">Linkage</span>
                            <span class="badge badge-key">Learner-Curriculum</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ESP Process -->
            <div class="section-card">
                <h2 class="section-title">
                    <i class="fas fa-sync-alt"></i>
                    The ESP Process and Needs Analysis
                </h2>
                
                <p>Needs analysis is integral to the ESP course development process. While traditionally conducted at the initial stage, contemporary views recognize it as an ongoing, cyclical process throughout course implementation.</p>
                
                <div class="process-diagram">
                    <div class="process-step">
                        <div class="step-number">1</div>
                        <h3>Needs Analysis</h3>
                        <p>Initial assessment of learner requirements and context</p>
                    </div>
                    
                    <div class="process-step">
                        <div class="step-number">2</div>
                        <h3>Course Design</h3>
                        <p>Developing curriculum based on identified needs</p>
                    </div>
                    
                    <div class="process-step">
                        <div class="step-number">3</div>
                        <h3>Materials Selection</h3>
                        <p>Choosing/creating appropriate teaching materials</p>
                    </div>
                    
                    <div class="process-step">
                        <div class="step-number">4</div>
                        <h3>Teaching & Learning</h3>
                        <p>Implementing the course with appropriate pedagogy</p>
                    </div>
                    
                    <div class="process-step">
                        <div class="step-number">5</div>
                        <h3>Evaluation</h3>
                        <p>Assessing effectiveness and identifying new needs</p>
                    </div>
                </div>
                
                <div class="subsection-title">Ongoing Needs Analysis</div>
                
                <div style="background: rgba(155, 89, 182, 0.05); padding: 25px; border-radius: var(--border-radius); margin: 25px 0;">
                    <h3 style="color: var(--esp); margin-bottom: 15px;">Continuous Assessment Approach</h3>
                    <p>Dudley-Evans and St. John (1998) advocate for ongoing needs analysis throughout the ESP process. This allows for:</p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                        <div>
                            <h4 style="color: var(--primary); margin-bottom: 10px;">Flexibility</h4>
                            <p>Adjusting course objectives as learner needs evolve</p>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary); margin-bottom: 10px;">Responsiveness</h4>
                            <p>Addressing emerging needs during course delivery</p>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary); margin-bottom: 10px;">Continuous Improvement</h4>
                            <p>Refining materials and teaching approaches based on feedback</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Types Section -->
        <section id="types" class="content-section">
            <!-- Types of Needs -->
            <div class="section-card">
                <h2 class="section-title">
                    <i class="fas fa-layer-group"></i>
                    Types of Needs in ESP
                </h2>
                
                <p>Researchers have identified various dimensions of needs in ESP, each providing a different perspective on learner requirements. Understanding these distinctions helps ESP practitioners conduct more comprehensive needs analyses.</p>
                
                <div class="subsection-title">Major Dichotomies in Needs Analysis</div>
                
                <div class="concept-grid">
                    <!-- Objective vs Subjective -->
                    <div class="concept-card">
                        <h3 class="concept-title">
                            <i class="fas fa-balance-scale"></i>
                            Objective vs Subjective Needs
                        </h3>
                        <p><strong>Brindley (1989) & Richterich (1980)</strong></p>
                        
                        <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                            <div style="flex: 1; min-width: 150px;">
                                <h4 style="color: var(--secondary); margin-bottom: 8px;">Objective Needs</h4>
                                <ul>
                                    <li>Derivable from factual information</li>
                                    <li>Based on real-life communication situations</li>
                                    <li>Current language proficiency</li>
                                    <li>Demographic data (age, background, etc.)</li>
                                </ul>
                            </div>
                            
                            <div style="flex: 1; min-width: 150px;">
                                <h4 style="color: var(--esp); margin-bottom: 8px;">Subjective Needs</h4>
                                <ul>
                                    <li>Cognitive and affective factors</li>
                                    <li>Learner attitudes and expectations</li>
                                    <li>Personality and confidence levels</li>
                                    <li>Wants and desires regarding learning</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="margin-top: 15px;">
                            <span class="badge badge-type">Factual</span>
                            <span class="badge badge-type">Emotional</span>
                            <span class="badge badge-type">Cognitive</span>
                        </div>
                    </div>
                    
                    <!-- Target vs Learning -->
                    <div class="concept-card">
                        <h3 class="concept-title">
                            <i class="fas fa-bullseye"></i>
                            Target vs Learning Needs
                        </h3>
                        <p><strong>Hutchinson & Waters (1987)</strong></p>
                        
                        <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                            <div style="flex: 1; min-width: 150px;">
                                <h4 style="color: var(--secondary); margin-bottom: 8px;">Target Needs</h4>
                                <p><em>What the learner needs to do in the target situation</em></p>
                                <ul>
                                    <li>Professional communication requirements</li>
                                    <li>Academic reading/writing demands</li>
                                    <li>Specific language functions needed</li>
                                </ul>
                            </div>
                            
                            <div style="flex: 1; min-width: 150px;">
                                <h4 style="color: var(--esp); margin-bottom: 8px;">Learning Needs</h4>
                                <p><em>What the learner needs to do in order to learn</em></p>
                                <ul>
                                    <li>Learning style preferences</li>
                                    <li>Available resources and time</li>
                                    <li>Motivation and attitude toward learning</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Felt vs Perceived -->
                    <div class="concept-card">
                        <h3 class="concept-title">
                            <i class="fas fa-brain"></i>
                            Felt vs Perceived Needs
                        </h3>
                        <p><strong>Berwick (1989)</strong></p>
                        
                        <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                            <div style="flex: 1; min-width: 150px;">
                                <h4 style="color: var(--secondary); margin-bottom: 8px;">Felt Needs</h4>
                                <ul>
                                    <li>Feelings and thoughts of learners</li>
                                    <li>Wants and desires</li>
                                    <li>Self-identified requirements</li>
                                    <li>Subjective perceptions</li>
                                </ul>
                            </div>
                            
                            <div style="flex: 1; min-width: 150px;">
                                <h4 style="color: var(--esp); margin-bottom: 8px;">Perceived Needs</h4>
                                <ul>
                                    <li>Expert opinions about gaps</li>
                                    <li>Objective assessment by teachers</li>
                                    <li>Outsider perception of requirements</li>
                                    <li>Based on professional judgment</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Situation vs Language -->
                    <div class="concept-card">
                        <h3 class="concept-title">
                            <i class="fas fa-language"></i>
                            Situation vs Language Needs
                        </h3>
                        <p><strong>Brown (1995)</strong></p>
                        
                        <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                            <div style="flex: 1; min-width: 150px;">
                                <h4 style="color: var(--secondary); margin-bottom: 8px;">Situational Needs</h4>
                                <p>Contextual factors affecting learning:</p>
                                <ul>
                                    <li>Physical learning environment</li>
                                    <li>Social and cultural context</li>
                                    <li>Administrative and logistical factors</li>
                                    <li>Available resources and support</li>
                                </ul>
                            </div>
                            
                            <div style="flex: 1; min-width: 150px;">
                                <h4 style="color: var(--esp); margin-bottom: 8px;">Language Needs</h4>
                                <p>Linguistic requirements:</p>
                                <ul>
                                    <li>Target linguistic behaviors</li>
                                    <li>Specific language skills required</li>
                                    <li>Vocabulary and grammar needs</li>
                                    <li>Communication functions needed</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="subsection-title">Comprehensive Needs Analysis Approaches</div>
                
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Approach</th>
                                <th>Focus</th>
                                <th>Key Questions</th>
                                <th>Application</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Target Situation Analysis</strong></td>
                                <td>What learner needs to do in target situation</td>
                                <td>What language skills are required? What communication tasks will be performed?</td>
                                <td>Identifying specific language requirements for professional/academic contexts</td>
                            </tr>
                            <tr>
                                <td><strong>Present Situation Analysis</strong></td>
                                <td>Learner's current language proficiency</td>
                                <td>What is current level? What are strengths and weaknesses?</td>
                                <td>Determining starting point and identifying gaps</td>
                            </tr>
                            <tr>
                                <td><strong>Learning Needs Analysis</strong></td>
                                <td>How learner prefers to learn</td>
                                <td>What learning styles? What resources available? What constraints exist?</td>
                                <td>Designing appropriate learning activities and materials</td>
                            </tr>
                            <tr>
                                <td><strong>Means Analysis</strong></td>
                                <td>Learning environment and constraints</td>
                                <td>What resources available? What institutional constraints? What time available?</td>
                                <td>Developing realistic and implementable course plans</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
        
        <!-- Instruments Section -->
        <section id="instruments" class="content-section">
            <!-- Instruments for NA -->
            <div class="section-card">
                <h2 class="section-title">
                    <i class="fas fa-tools"></i>
                    Instruments for Needs Analysis
                </h2>
                
                <p>Various instruments can be used to collect data about learners' needs in ESP. The choice of instrument depends on the type of information needed, available resources, and the context of the needs analysis.</p>
                
                <div class="subsection-title">Primary Data Collection Instruments</div>
                
                <div class="concept-grid">
                    <div class="concept-card">
                        <h3 class="concept-title">
                            <i class="fas fa-file-alt"></i>
                            Questionnaires
                        </h3>
                        <p><strong>Purpose:</strong> To gather standardized information from a large number of respondents efficiently.</p>
                        
                        <div style="background: rgba(52, 152, 219, 0.05); padding: 15px; border-radius: 8px; margin: 15px 0;">
                            <h4 style="color: var(--secondary); margin-bottom: 10px;">Advantages</h4>
                            <ul>
                                <li>Less time-consuming to administer</li>
                                <li>Can reach large sample sizes</li>
                                <li>Provides anonymity for respondents</li>
                                <li>Easy to quantify and analyze</li>
                                <li>Cost-effective</li>
                            </ul>
                        </div>
                        
                        <div style="background: rgba(231, 76, 60, 0.05); padding: 15px; border-radius: 8px; margin: 15px 0;">
                            <h4 style="color: var(--danger); margin-bottom: 10px;">Disadvantages</h4>
                            <ul>
                                <li>Self-selecting bias (low response rates)</li>
                                <li>No opportunity for clarification</li>
                                <li>Limited depth of responses</li>
                                <li>May not capture complex issues</li>
                                <li>Respondents may consult each other</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="concept-card">
                        <h3 class="concept-title">
                            <i class="fas fa-comments"></i>
                            Interviews
                        </h3>
                        <p><strong>Purpose:</strong> To gather in-depth, qualitative information through direct conversation.</p>
                        
                        <div style="background: rgba(52, 152, 219, 0.05); padding: 15px; border-radius: 8px; margin: 15px 0;">
                            <h4 style="color: var(--secondary); margin-bottom: 10px;">Advantages</h4>
                            <ul>
                                <li>Allows for in-depth exploration</li>
                                <li>Questions can be clarified</li>
                                <li>Rich qualitative data</li>
                                <li>Non-verbal cues can be observed</li>
                                <li>Flexible and adaptive</li>
                            </ul>
                        </div>
                        
                        <div style="background: rgba(231, 76, 60, 0.05); padding: 15px; border-radius: 8px; margin: 15px 0;">
                            <h4 style="color: var(--danger); margin-bottom: 10px;">Disadvantages</h4>
                            <ul>
                                <li>Time-consuming</li>
                                <li>Requires skilled interviewers</li>
                                <li>Potential for interviewer bias</li>
                                <li>Small sample sizes</li>
                                <li>Difficult to analyze systematically</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="concept-card">
                        <h3 class="concept-title">
                            <i class="fas fa-eye"></i>
                            Observations
                        </h3>
                        <p><strong>Purpose:</strong> To gather data by watching learners in authentic or simulated contexts.</p>
                        
                        <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                            <div style="flex: 1; min-width: 150px;">
                                <h4 style="color: var(--secondary); margin-bottom: 8px;">Types</h4>
                                <ul>
                                    <li>Structured observations</li>
                                    <li>Unstructured observations</li>
                                    <li>Participant observations</li>
                                    <li>Non-participant observations</li>
                                </ul>
                            </div>
                            
                            <div style="flex: 1; min-width: 150px;">
                                <h4 style="color: var(--esp); margin-bottom: 8px;">Applications</h4>
                                <ul>
                                    <li>Workplace observations</li>
                                    <li>Classroom observations</li>
                                    <li>Communication task analysis</li>
                                    <li>Authentic language use</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="concept-card">
                        <h3 class="concept-title">
                            <i class="fas fa-tasks"></i>
                            Tests & Assessments
                        </h3>
                        <p><strong>Purpose:</strong> To measure current language proficiency and identify specific gaps.</p>
                        
                        <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                            <div style="flex: 1; min-width: 150px;">
                                <h4 style="color: var(--secondary); margin-bottom: 8px;">Types</h4>
                                <ul>
                                    <li>Placement tests</li>
                                    <li>Diagnostic tests</li>
                                    <li>Proficiency tests</li>
                                    <li>Achievement tests</li>
                                </ul>
                            </div>
                            
                            <div style="flex: 1; min-width: 150px;">
                                <h4 style="color: var(--esp); margin-bottom: 8px;">Information Gathered</h4>
                                <ul>
                                    <li>General ability levels</li>
                                    <li>Specific language problems</li>
                                    <li>Skill strengths/weaknesses</li>
                                    <li>Learning progress</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="subsection-title">Selecting Appropriate Instruments</div>
                
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Situation</th>
                                <th>Recommended Instrument</th>
                                <th>Reason</th>
                                <th>Tips for Implementation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Large number of learners</td>
                                <td>Questionnaires</td>
                                <td>Efficient data collection from many respondents</td>
                                <td>Keep questions clear and concise; pilot test first</td>
                            </tr>
                            <tr>
                                <td>Complex or sensitive issues</td>
                                <td>Interviews</td>
                                <td>Allows for depth and clarification</td>
                                <td>Use semi-structured format; ensure confidentiality</td>
                            </tr>
                            <tr>
                                <td>Authentic language use</td>
                                <td>Observations</td>
                                <td>Direct evidence of actual needs</td>
                                <td>Use observation checklist; minimize observer effect</td>
                            </tr>
                            <tr>
                                <td>Language proficiency assessment</td>
                                <td>Tests</td>
                                <td>Objective measurement of abilities</td>
                                <td>Ensure validity and reliability; align with target tasks</td>
                            </tr>
                            <tr>
                                <td>Ongoing needs assessment</td>
                                <td>Combination</td>
                                <td>Comprehensive and continuous data</td>
                                <td>Use multiple methods; triangulate data</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Questionnaire Sample -->
            <div class="section-card">
                <h2 class="section-title">
                    <i class="fas fa-clipboard-list"></i>
                    Sample Needs Analysis Questionnaire
                </h2>
                
                <div class="questionnaire-sample">
                    <div class="questionnaire-section">
                        <h3 style="color: var(--primary); margin-bottom: 15px;">Section I: Profile of the Respondents</h3>
                        
                        <div class="question-item">
                            <p><strong>1. Gender:</strong> â–¡ Male â–¡ Female</p>
                            <p><strong>Age:</strong> ________</p>
                            <p><strong>Medium of instruction:</strong> ________</p>
                        </div>
                        
                        <div class="question-item">
                            <p><strong>2. Level of English before the entrance to the university:</strong></p>
                            <p>â–¡ High â–¡ Intermediate â–¡ Low</p>
                        </div>
                        
                        <div class="question-item">
                            <p><strong>3. Current level of English:</strong></p>
                            <p>â–¡ High â–¡ Intermediate â–¡ Low</p>
                        </div>
                    </div>
                    
                    <div class="questionnaire-section">
                        <h3 style="color: var(--primary); margin-bottom: 15px;">Section II: Requirements of the ESP Course</h3>
                        
                        <div class="question-item">
                            <p><strong>6. The time allocated for the course is:</strong></p>
                            <p>â–¡ Sufficient â–¡ Not sufficient</p>
                        </div>
                        
                        <div class="question-item">
                            <p><strong>7. What do you think about the current used material?</strong></p>
                            <p>â–¡ Very useful â–¡ Little useful â–¡ Not useful</p>
                        </div>
                        
                        <div class="question-item">
                            <p><strong>8. Evaluate your proficiency in each of the following skills:</strong></p>
                            <div class="table-wrapper" style="margin: 10px 0;">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Skill</th>
                                            <th>Fully</th>
                                            <th>Moderately</th>
                                            <th>Mildly</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr><td>Speaking</td><td>â–¡</td><td>â–¡</td><td>â–¡</td></tr>
                                        <tr><td>Writing</td><td>â–¡</td><td>â–¡</td><td>â–¡</td></tr>
                                        <tr><td>Listening</td><td>â–¡</td><td>â–¡</td><td>â–¡</td></tr>
                                        <tr><td>Reading</td><td>â–¡</td><td>â–¡</td><td>â–¡</td></tr>
                                        <tr><td>Vocabulary</td><td>â–¡</td><td>â–¡</td><td>â–¡</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Process Section -->
        <section id="process" class="content-section">
            <!-- Steps in NA -->
            <div class="section-card">
                <h2 class="section-title">
                    <i class="fas fa-footsteps"></i>
                    Steps in Conducting Needs Analysis
                </h2>
                
                <p>Brown (1995) outlines a systematic three-step approach to conducting needs analysis in ESP. This structured process ensures comprehensive data collection and effective application of findings.</p>
                
                <div class="steps-timeline">
                    <!-- Step 1 -->
                    <div class="step-item">
                        <div class="step-circle">1</div>
                        <div class="step-title">Step 1: Planning and Preparation</div>
                        <div class="step-description">
                            <p><strong>Key Activities:</strong> Making basic decisions about the needs analysis process before data collection begins.</p>
                            
                            <div style="background: rgba(44, 62, 80, 0.03); padding: 15px; border-radius: 8px; margin: 15px 0;">
                                <h4 style="color: var(--primary); margin-bottom: 10px;">Stakeholder Identification</h4>
                                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin-top: 10px;">
                                    <div>
                                        <strong>Target Group:</strong>
                                        <p>People about whom information will be collected (learners)</p>
                                    </div>
                                    <div>
                                        <strong>Audience:</strong>
                                        <p>People who will apply the results (teachers, administrators)</p>
                                    </div>
                                    <div>
                                        <strong>Analysts:</strong>
                                        <p>Those conducting the needs analysis (EFL teachers)</p>
                                    </div>
                                    <div>
                                        <strong>Resource Group:</strong>
                                        <p>Sources of information about target group (students, content teachers)</p>
                                    </div>
                                </div>
                            </div>
                            
                            <p><strong>Key Decisions:</strong> What information to gather, from whom, using which instruments, and how results will be used.</p>
                        </div>
                    </div>
                    
                    <!-- Step 2 -->
                    <div class="step-item">
                        <div class="step-circle">2</div>
                        <div class="step-title">Step 2: Data Collection</div>
                        <div class="step-description">
                            <p><strong>Key Activities:</strong> Gathering information using various instruments and techniques.</p>
                            
                            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; margin: 20px 0;">
                                <div style="background: rgba(52, 152, 219, 0.05); padding: 15px; border-radius: 8px;">
                                    <h5 style="color: var(--secondary); margin-bottom: 8px;">Existing Information</h5>
                                    <p>Review documents, records, previous assessments</p>
                                </div>
                                
                                <div style="background: rgba(52, 152, 219, 0.05); padding: 15px; border-radius: 8px;">
                                    <h5 style="color: var(--secondary); margin-bottom: 8px;">Tests</h5>
                                    <p>Assess general ability levels and specific problems</p>
                                </div>
                                
                                <div style="background: rgba(52, 152, 219, 0.05); padding: 15px; border-radius: 8px;">
                                    <h5 style="color: var(--secondary); margin-bottom: 8px;">Observations</h5>
                                    <p>Watch learners in authentic/simulated contexts</p>
                                </div>
                                
                                <div style="background: rgba(52, 152, 219, 0.05); padding: 15px; border-radius: 8px;">
                                    <h5 style="color: var(--secondary); margin-bottom: 8px;">Interviews</h5>
                                    <p>Gather personal views and in-depth information</p>
                                </div>
                                
                                <div style="background: rgba(52, 152, 219, 0.05); padding: 15px; border-radius: 8px;">
                                    <h5 style="color: var(--secondary); margin-bottom: 8px;">Meetings</h5>
                                    <p>Reach consensus among stakeholders</p>
                                </div>
                                
                                <div style="background: rgba(52, 152, 219, 0.05); padding: 15px; border-radius: 8px;">
                                    <h5 style="color: var(--secondary); margin-bottom: 8px;">Questionnaires</h5>
                                    <p>Efficient large-scale data collection</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Step 3 -->
                    <div class="step-item">
                        <div class="step-circle">3</div>
                        <div class="step-title">Step 3: Data Analysis and Application</div>
                        <div class="step-description">
                            <p><strong>Key Activities:</strong> Analyzing collected data and applying findings to curriculum development.</p>
                            
                            <div style="background: rgba(155, 89, 182, 0.05); padding: 20px; border-radius: 8px; margin: 15px 0;">
                                <h4 style="color: var(--esp); margin-bottom: 15px;">Quality Criteria for Needs Analysis</h4>
                                
                                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px;">
                                    <div>
                                        <h5 style="color: var(--primary); margin-bottom: 8px;">Reliability</h5>
                                        <p><em>"Consistency with which a procedure obtains information"</em> (Brown, 1995)</p>
                                        <ul>
                                            <li><strong>Internal:</strong> Same results with same procedure</li>
                                            <li><strong>External:</strong> Replicable by different researchers</li>
                                        </ul>
                                    </div>
                                    
                                    <div>
                                        <h5 style="color: var(--primary); margin-bottom: 8px;">Validity</h5>
                                        <p><em>"Degree to which instrument measures what it claims to measure"</em></p>
                                        <ul>
                                            <li><strong>Internal:</strong> Appropriate measurement</li>
                                            <li><strong>External:</strong> Generalizable to larger group</li>
                                        </ul>
                                    </div>
                                    
                                    <div>
                                        <h5 style="color: var(--primary); margin-bottom: 8px;">Usability</h5>
                                        <p><em>"Degree to which procedure is practical to use"</em></p>
                                        <ul>
                                            <li>Time efficiency</li>
                                            <li>Cost effectiveness</li>
                                            <li>Ease of administration</li>
                                            <li>Simplicity of interpretation</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <p><strong>Application:</strong> Results inform curriculum design, materials selection, teaching approaches, and assessment methods.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Importance of NA -->
            <div class="section-card">
                <h2 class="section-title">
                    <i class="fas fa-star"></i>
                    Importance of Needs Analysis in ESP
                </h2>
                
                <div class="highlight-box">
                    <h3>Central Role in ESP Course Development</h3>
                    <p>Needs analysis serves as the foundation for every aspect of ESP course development and implementation. As Hutchinson and Waters (1987) state: <em>"Tell me what you need English for and I will tell you the English that you need."</em></p>
                </div>
                
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Aspect of ESP</th>
                                <th>Role of Needs Analysis</th>
                                <th>Key References</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Course Design</strong></td>
                                <td>Provides basis for curriculum development; ensures relevance to learner requirements</td>
                                <td>Berwick (1989); McDonough (1984)</td>
                            </tr>
                            <tr>
                                <td><strong>Syllabus Design</strong></td>
                                <td>Guides content selection and organization; matches program with student needs</td>
                                <td>Riddell (1991); Clark (1978)</td>
                            </tr>
                            <tr>
                                <td><strong>Materials Selection</strong></td>
                                <td>Informs choice/development of appropriate teaching materials</td>
                                <td>Bowers (1980); Jordan (1997)</td>
                            </tr>
                            <tr>
                                <td><strong>Teaching Approaches</strong></td>
                                <td>Determines appropriate pedagogical methods and activities</td>
                                <td>Jordan (1997); Schutz & Derwing (1981)</td>
                            </tr>
                            <tr>
                                <td><strong>Assessment</strong></td>
                                <td>Guides development of appropriate evaluation methods</td>
                                <td>Bowers (1980); Brindley (1980)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="subsection-title">Key Principles</div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin: 25px 0;">
                    <div style="background: rgba(44, 62, 80, 0.03); padding: 20px; border-radius: var(--border-radius);">
                        <h4 style="color: var(--primary); margin-bottom: 10px;">Learner-Centered Approach</h4>
                        <p>ESP recognizes that language learning should be centered on the learner's specific needs, purposes, and contexts of use.</p>
                    </div>
                    
                    <div style="background: rgba(44, 62, 80, 0.03); padding: 20px; border-radius: var(--border-radius);">
                        <h4 style="color: var(--primary); margin-bottom: 10px;">Relevance and Specificity</h4>
                        <p>Content should be directly relevant to learners' professional or academic fields and specific communication needs.</p>
                    </div>
                    
                    <div style="background: rgba(44, 62, 80, 0.03); padding: 20px; border-radius: var(--border-radius);">
                        <h4 style="color: var(--primary); margin-bottom: 10px;">Continuous Process</h4>
                        <p>Needs analysis is not a one-time activity but an ongoing process throughout course development and implementation.</p>
                    </div>
                </div>
                
                <!-- Workshop Task -->
                <div class="workshop-task">
                    <h3 style="color: var(--accent); margin-bottom: 20px;"><i class="fas fa-tasks"></i> Workshop Task: Designing a Needs Analysis Questionnaire</h3>
                    
                    <div class="task-item">
                        <h4 style="color: var(--primary); margin-bottom: 8px;">Objective</h4>
                        <p>To design a needs analysis questionnaire that can be used to identify the training needs of individuals in a particular field of specialism.</p>
                    </div>
                    
                    <div class="task-item">
                        <h4 style="color: var(--primary); margin-bottom: 8px;">Instructions</h4>
                        <ol>
                            <li>Select a field of specialism that you are familiar with (e.g., marketing, healthcare, education, etc.)</li>
                            <li>Define the purpose of the needs analysis questionnaire</li>
                            <li>Identify the target audience for your questionnaire</li>
                            <li>Determine the content of your questionnaire</li>
                            <li>Decide on the format of your questionnaire</li>
                            <li>Analyze the results of your questionnaire</li>
                        </ol>
                    </div>
                    
                    <div class="task-item">
                        <h4 style="color: var(--primary); margin-bottom: 8px;">Deliverables</h4>
                        <ul>
                            <li>A needs analysis questionnaire with relevant and clear questions</li>
                            <li>A brief report outlining purpose, target audience, content, format, and results</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Quiz Section -->
        <section id="quiz" class="content-section">
            <div class="quiz-container">
                <div class="quiz-header">
                    <h2 class="section-title"><i class="fas fa-question-circle"></i> ESP Needs Analysis Quiz</h2>
                    <div class="quiz-progress">Question <span id="current-question">1</span> of <span id="total-questions">10</span></div>
                </div>
                
                <div id="quiz-content">
                    <div class="quiz-question" id="question-text">Loading question...</div>
                    
                    <div class="quiz-options" id="options-container">
                        <!-- Options will be generated here -->
                    </div>
                    
                    <div class="quiz-controls">
                        <button id="prev-btn" class="quiz-btn" disabled><i class="fas fa-arrow-left"></i> Previous</button>
                        <button id="next-btn" class="quiz-btn">Next <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
                
                <div id="results-container" style="display: none;">
                    <div class="quiz-results">
                        <h2 style="color: var(--primary);">Quiz Completed!</h2>
                        <div class="quiz-score" id="score">0/10</div>
                        <p id="result-message" class="result-message"></p>
                        
                        <div id="review-container" style="max-height: 400px; overflow-y: auto; margin: 30px 0;">
                            <!-- Review will be inserted here -->
                        </div>
                        
                        <div style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; margin-top: 30px;">
                            <button id="restart-quiz" class="quiz-btn"><i class="fas fa-redo"></i> Retry Quiz</button>
                            <button id="new-quiz" class="quiz-btn" style="background-color: var(--accent);"><i class="fas fa-random"></i> New Questions</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section-card">
                <h2 class="section-title"><i class="fas fa-info-circle"></i> Quiz Instructions</h2>
                <p>This quiz tests your understanding of Needs Analysis in ESP based on the course materials. Each attempt will present 10 randomly selected questions from a pool of 50 questions covering:</p>
                <ul>
                    <li>Definitions and concepts of needs analysis</li>
                    <li>Types of needs in ESP</li>
                    <li>Instruments for data collection</li>
                    <li>Steps in conducting needs analysis</li>
                    <li>Importance and applications in ESP</li>
                </ul>
                <p>Select an answer by clicking on it, then navigate between questions. After completing all questions, you'll receive detailed feedback with explanations.</p>
            </div>
        </section>
    </div>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <p><i class="fas fa-clipboard-check"></i> ESP Needs Analysis Study Guide - Master 1</p>
            <p style="margin-top: 10px; font-size: 0.95rem;">Didactics of Teaching ESP | Course Tutor: Dr. Ouafa Ouarniki</p>
            <p style="margin-top: 5px; font-size: 0.85rem;">University Ziane Achour, Djelfa | Faculty of Letters and Languages</p>
        </div>
    </footer>

    <script>
        // ====== ESP NEEDS ANALYSIS APPLICATION ======
        const ESPApp = {
            // State
            currentQuiz: null,
            fontSizeLevel: 0,
            fontSizes: ['100%', '110%', '120%', '90%'],
            
            // Initialize the application
            init() {
                this.setupEventListeners();
                this.initializeNavigation();
                this.initializeQuiz();
                this.adjustLayoutForMobile();
            },
            
            // Setup all event listeners
            setupEventListeners() {
                // Theme toggle
                document.getElementById('theme-toggle').addEventListener('click', () => this.toggleTheme());
                
                // Font size toggle
                document.getElementById('font-toggle').addEventListener('click', () => this.toggleFontSize());
                
                // Tab navigation
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => this.switchTab(e.target.closest('.tab-btn')));
                });
                
                // Quiz buttons
                document.getElementById('prev-btn').addEventListener('click', () => this.prevQuestion());
                document.getElementById('next-btn').addEventListener('click', () => this.nextQuestion());
                document.getElementById('restart-quiz').addEventListener('click', () => this.restartQuiz());
                document.getElementById('new-quiz').addEventListener('click', () => this.newQuiz());
                
                // Window resize listener
                window.addEventListener('resize', () => {
                    this.adjustLayoutForMobile();
                });
            },
            
            // ====== THEME & UI FUNCTIONS ======
            toggleTheme() {
                document.body.classList.toggle('dark-mode');
                const icon = document.getElementById('theme-toggle').querySelector('i');
                if (document.body.classList.contains('dark-mode')) {
                    icon.classList.replace('fa-moon', 'fa-sun');
                    document.getElementById('theme-toggle').title = "Toggle light mode";
                } else {
                    icon.classList.replace('fa-sun', 'fa-moon');
                    document.getElementById('theme-toggle').title = "Toggle dark mode";
                }
            },
            
            toggleFontSize() {
                this.fontSizeLevel = (this.fontSizeLevel + 1) % this.fontSizes.length;
                document.body.style.fontSize = this.fontSizes[this.fontSizeLevel];
                document.getElementById('font-toggle').title = `Font size: ${this.fontSizes[this.fontSizeLevel]}`;
            },
            
            switchTab(clickedBtn) {
                const target = clickedBtn.getAttribute('data-target');
                
                // Update active tab
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                clickedBtn.classList.add('active');
                
                // Show target section
                document.querySelectorAll('.content-section').forEach(section => {
                    section.classList.remove('active');
                    if (section.id === target) {
                        section.classList.add('active');
                        
                        // Scroll to top of section
                        window.scrollTo({
                            top: section.offsetTop - 100,
                            behavior: 'smooth'
                        });
                        
                        // Initialize quiz if on quiz tab
                        if (target === 'quiz') {
                            this.initializeQuiz();
                        }
                    }
                });
            },
            
            // ====== NAVIGATION INITIALIZATION ======
            initializeNavigation() {
                // Set initial active tab
                document.querySelector('.tab-btn.active').click();
            },
            
            // ====== RESPONSIVE LAYOUT ======
            adjustLayoutForMobile() {
                const navTabs = document.querySelector('.nav-tabs');
                if (!navTabs) return;
                
                if (window.innerWidth <= 480) {
                    navTabs.style.overflowX = 'auto';
                    navTabs.style.flexWrap = 'nowrap';
                    navTabs.style.whiteSpace = 'nowrap';
                } else {
                    navTabs.style.overflowX = 'visible';
                    navTabs.style.flexWrap = 'wrap';
                    navTabs.style.whiteSpace = 'normal';
                }
            },
            
            // ====== QUIZ SYSTEM ======
            questionPool: [
                // Definitions and Concepts (10 questions)
                {
                    question: "According to Nunan (1988), needs analysis refers to:",
                    options: [
                        "A single procedure for gathering information about learners",
                        "A family of procedures for gathering information about learners and communication tasks",
                        "Only the analysis of objective data about learners",
                        "The final step in course design"
                    ],
                    correct: 1,
                    explanation: "Nunan defines needs analysis as 'a family of procedures for gathering information about learners and about communication tasks.' This broad definition emphasizes the variety of methods that can be used.",
                    topic: "Definitions"
                },
                {
                    question: "Brown (2009) defines needs analysis as:",
                    options: [
                        "The informal collection of student preferences",
                        "The systematic collection and analysis of all information necessary for defining a defensible curriculum",
                        "Only the assessment of language proficiency",
                        "A one-time activity at the beginning of a course"
                    ],
                    correct: 1,
                    explanation: "Brown emphasizes the systematic nature of needs analysis and its role in curriculum development, highlighting its importance for creating a 'defensible curriculum.'",
                    topic: "Definitions"
                },
                {
                    question: "The term 'needs analysis' first became central to ESP in the:",
                    options: [
                        "1920s",
                        "1960s",
                        "1980s",
                        "2000s"
                    ],
                    correct: 1,
                    explanation: "While the term first appeared in the 1920s, it became central to ESP in the 1960s as needs analysis became a significant part of ESP course development (West, 1994).",
                    topic: "History"
                },
                {
                    question: "Which of the following distinguishes ESP from General English according to Hutchinson and Waters (1987)?",
                    options: [
                        "The use of different grammar rules",
                        "An awareness of needs",
                        "The teaching of specialized vocabulary only",
                        "The use of different teaching methods"
                    ],
                    correct: 1,
                    explanation: "Hutchinson and Waters highlighted that an awareness of needs distinguishes ESP from general English, though Seedhouse (1995) later argued that needs analysis can be applied in general English courses as well.",
                    topic: "ESP vs General English"
                },
                {
                    question: "According to Farhat (2001), why is needs analysis particularly important in language learning?",
                    options: [
                        "Because language learning is always easy",
                        "Because it's impossible to learn the entire language; only parts can be learned and mastered",
                        "Because teachers need less preparation time",
                        "Because it makes assessment easier"
                    ],
                    correct: 1,
                    explanation: "Farhat argues that since it's impossible to learn a language in its entirety, we need to determine which parts are most relevant to learners' specific needs and contexts.",
                    topic: "Importance"
                },
                
                // Types of Needs (15 questions)
                {
                    question: "Objective needs, according to Brindley (1989), are:",
                    options: [
                        "Based on learners' feelings and emotions",
                        "Derivable from factual information about learners",
                        "Only concerned with future language use",
                        "Less important than subjective needs"
                    ],
                    correct: 1,
                    explanation: "Objective needs are based on factual information about learners, their language use in real situations, and their current proficiency. They contrast with subjective needs which involve cognitive and affective factors.",
                    topic: "Types of Needs"
                },
                {
                    question: "Subjective needs include:",
                    options: [
                        "Only demographic information about learners",
                        "Affective and cognitive factors such as personality, confidence, and attitudes",
                        "Only information about language proficiency",
                        "Only information about future job requirements"
                    ],
                    correct: 1,
                    explanation: "Subjective needs encompass the cognitive and affective dimensions of learning, including personality factors, confidence levels, attitudes, and learners' wants and expectations.",
                    topic: "Types of Needs"
                },
                {
                    question: "Hutchinson and Waters (1987) distinguish between:",
                    options: [
                        "Objective and subjective needs",
                        "Target needs and learning needs",
                        "Felt and perceived needs",
                        "Situational and communicative needs"
                    ],
                    correct: 1,
                    explanation: "Hutchinson and Waters make the key distinction between target needs (what learners need to do in the target situation) and learning needs (what they need to do in order to learn).",
                    topic: "Types of Needs"
                },
                {
                    question: "Target needs refer to:",
                    options: [
                        "What learners need to do in order to learn",
                        "What learners need to do in the target situation",
                        "Only the grammatical structures needed",
                        "Teachers' perceptions of what learners need"
                    ],
                    correct: 1,
                    explanation: "Target needs focus on the language requirements of the specific situation where learners will use English, such as professional or academic contexts.",
                    topic: "Types of Needs"
                },
                {
                    question: "Learning needs refer to:",
                    options: [
                        "What learners need to do in the target situation",
                        "What learners need to do in order to learn effectively",
                        "Only the resources available for learning",
                        "The final proficiency level to be achieved"
                    ],
                    correct: 1,
                    explanation: "Learning needs concern the process of learning itself - how learners prefer to learn, what resources they have available, and what constraints they face in the learning process.",
                    topic: "Types of Needs"
                },
                {
                    question: "Felt needs, according to Berwick (1989), are:",
                    options: [
                        "Experts' opinions about educational gaps",
                        "Related to the feelings and thoughts of the learners themselves",
                        "Based only on objective test scores",
                        "The same as target situation needs"
                    ],
                    correct: 1,
                    explanation: "Felt needs originate from learners' own perceptions, feelings, and thoughts about what they need or want from the language course.",
                    topic: "Types of Needs"
                },
                {
                    question: "Perceived needs are:",
                    options: [
                        "Learners' own feelings about their needs",
                        "Experts' thoughts about educational gaps in others' experience",
                        "Based only on observable behavior",
                        "Irrelevant to course design"
                    ],
                    correct: 1,
                    explanation: "Perceived needs represent outsiders' (usually teachers' or experts') views of what learners need, which may differ from learners' own felt needs.",
                    topic: "Types of Needs"
                },
                {
                    question: "Brown (1995) distinguishes between:",
                    options: [
                        "Target and learning needs",
                        "Situation needs and language needs",
                        "Objective and subjective needs",
                        "Felt and perceived needs"
                    ],
                    correct: 1,
                    explanation: "Brown's distinction focuses on situational needs (contextual factors affecting learning) versus language needs (specific linguistic requirements).",
                    topic: "Types of Needs"
                },
                {
                    question: "Situational needs include:",
                    options: [
                        "Only grammatical requirements",
                        "Physical, social, and psychological context of learning",
                        "Only learners' future job requirements",
                        "Only vocabulary needs"
                    ],
                    correct: 1,
                    explanation: "Situational needs encompass the broader context of learning, including environmental factors, administrative considerations, and available resources.",
                    topic: "Types of Needs"
                },
                {
                    question: "Which type of needs analysis focuses on 'what the learner needs to do in the target situation'?",
                    options: [
                        "Learning Needs Analysis",
                        "Target Situation Analysis",
                        "Present Situation Analysis",
                        "Means Analysis"
                    ],
                    correct: 1,
                    explanation: "Target Situation Analysis specifically examines the language requirements of the situation where learners will eventually use English.",
                    topic: "Types of Needs"
                },
                
                // Instruments (10 questions)
                {
                    question: "Which instrument is most efficient for gathering information from a large number of respondents?",
                    options: [
                        "Interviews",
                        "Observations",
                        "Questionnaires",
                        "Meetings"
                    ],
                    correct: 2,
                    explanation: "Questionnaires allow efficient data collection from large samples, though they may lack the depth of interviews or the authenticity of observations.",
                    topic: "Instruments"
                },
                {
                    question: "A major advantage of interviews over questionnaires is:",
                    options: [
                        "They are less time-consuming",
                        "They allow for clarification and probing of responses",
                        "They can reach more people",
                        "They are easier to analyze statistically"
                    ],
                    correct: 1,
                    explanation: "Interviews allow the interviewer to clarify questions, probe responses, and gather more nuanced information than standardized questionnaires.",
                    topic: "Instruments"
                },
                {
                    question: "According to Kumar (1996), a disadvantage of questionnaires is:",
                    options: [
                        "They are too time-consuming",
                        "They don't allow for spontaneous responses",
                        "They require highly skilled administrators",
                        "They are too expensive"
                    ],
                    correct: 1,
                    explanation: "Questionnaires are structured instruments that don't allow for spontaneous elaboration or immediate clarification of responses.",
                    topic: "Instruments"
                },
                {
                    question: "Observations are particularly useful for:",
                    options: [
                        "Gathering demographic information",
                        "Assessing attitudes and motivations",
                        "Understanding authentic language use in context",
                        "Testing grammatical knowledge"
                    ],
                    correct: 2,
                    explanation: "Observations allow researchers to see how language is actually used in real or simulated contexts, providing authentic data about communication needs.",
                    topic: "Instruments"
                },
                {
                    question: "Which instrument is most appropriate for gathering in-depth, qualitative information about complex issues?",
                    options: [
                        "Multiple-choice tests",
                        "Structured questionnaires",
                        "Semi-structured interviews",
                        "Placement tests"
                    ],
                    correct: 2,
                    explanation: "Semi-structured interviews provide the flexibility to explore complex issues in depth while maintaining some structure for comparability.",
                    topic: "Instruments"
                },
                
                // Steps and Process (10 questions)
                {
                    question: "According to Brown (1995), how many main steps are there in needs analysis?",
                    options: [
                        "Two",
                        "Three",
                        "Four",
                        "Five"
                    ],
                    correct: 1,
                    explanation: "Brown outlines three main steps: 1) Making basic decisions, 2) Gathering information, and 3) Using the information.",
                    topic: "Steps"
                },
                {
                    question: "Which of the following is NOT one of Brown's four categories of people involved in needs analysis?",
                    options: [
                        "Target group",
                        "Audience",
                        "Analysts",
                        "Sponsors"
                    ],
                    correct: 3,
                    explanation: "Brown identifies four groups: target group, audience, analysts, and resource group. Sponsors are not specifically mentioned as a separate category.",
                    topic: "Steps"
                },
                {
                    question: "The target group in needs analysis refers to:",
                    options: [
                        "People who will apply the results",
                        "People about whom information will be collected",
                        "People conducting the analysis",
                        "People who provide information about the target group"
                    ],
                    correct: 1,
                    explanation: "The target group consists of the learners or potential learners about whom information is being gathered.",
                    topic: "Steps"
                },
                {
                    question: "Which quality criterion refers to 'the consistency with which a procedure obtains information'?",
                    options: [
                        "Validity",
                        "Reliability",
                        "Usability",
                        "Practicality"
                    ],
                    correct: 1,
                    explanation: "Reliability concerns the consistency and stability of measurement procedures - whether they yield similar results under similar conditions.",
                    topic: "Steps"
                },
                {
                    question: "Validity in needs analysis refers to:",
                    options: [
                        "How easy an instrument is to use",
                        "How consistently an instrument measures",
                        "The degree to which an instrument measures what it claims to measure",
                        "How quickly data can be collected"
                    ],
                    correct: 2,
                    explanation: "Validity addresses whether an instrument actually measures what it is intended to measure, a crucial consideration for obtaining accurate needs data.",
                    topic: "Steps"
                },
                
                // Importance and Applications (5 questions)
                {
                    question: "According to Berwick (1989), needs assessment is important for:",
                    options: [
                        "Making course design decisions",
                        "Reducing teaching hours",
                        "Simplifying grammar instruction",
                        "Eliminating vocabulary teaching"
                    ],
                    correct: 0,
                    explanation: "Berwick emphasizes that needs assessment provides essential information for making informed decisions about course design.",
                    topic: "Importance"
                },
                {
                    question: "Riddell (1991) points to the crucial role that needs analysis plays in:",
                    options: [
                        "Reducing costs",
                        "Syllabus and course design",
                        "Eliminating teacher preparation",
                        "Standardizing testing"
                    ],
                    correct: 1,
                    explanation: "Riddell highlights how needs analysis enables course designers to match program content with student requirements.",
                    topic: "Importance"
                },
                {
                    question: "Clark (1978) states that the first step in any language teaching project should be:",
                    options: [
                        "To design a syllabus that reflects learner needs",
                        "To select a textbook",
                        "To test students' grammar knowledge",
                        "To train teachers"
                    ],
                    correct: 0,
                    explanation: "Clark emphasizes that syllabus design should begin with an understanding of learner needs and wishes.",
                    topic: "Importance"
                },
                {
                    question: "Jordan (1997) states that needs analysis should be the starting point for:",
                    options: [
                        "Only materials selection",
                        "Only classroom activities",
                        "Devising syllabus, course materials, and classroom activities",
                        "Only assessment design"
                    ],
                    correct: 2,
                    explanation: "Jordan takes a comprehensive view, seeing needs analysis as foundational for all aspects of course development.",
                    topic: "Importance"
                },
                {
                    question: "The famous ESP principle 'tell me what you need English for and I will tell you the English that you need' is attributed to:",
                    options: [
                        "Nunan (1988)",
                        "Brown (1995)",
                        "Hutchinson and Waters (1987)",
                        "Berwick (1989)"
                    ],
                    correct: 2,
                    explanation: "This principle, encapsulating the essence of ESP, comes from Hutchinson and Waters' influential 1987 work.",
                    topic: "Importance"
                }
            ],
            
            getRandomQuestions(count) {
                // Shuffle the question pool and select required number
                const shuffled = [...this.questionPool].sort(() => 0.5 - Math.random());
                return shuffled.slice(0, count);
            },
            
            initializeQuiz() {
                this.currentQuiz = {
                    questions: this.getRandomQuestions(10),
                    currentIndex: 0,
                    userAnswers: [],
                    completed: false
                };
                
                this.displayQuestion(0);
                this.updateQuizUI();
            },
            
            displayQuestion(index) {
                if (!this.currentQuiz) return;
                
                const question = this.currentQuiz.questions[index];
                document.getElementById('question-text').textContent = question.question;
                
                const optionsContainer = document.getElementById('options-container');
                optionsContainer.innerHTML = '';
                
                const letters = ['A', 'B', 'C', 'D'];
                question.options.forEach((option, i) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'quiz-option';
                    if (this.currentQuiz.userAnswers[index] === i) {
                        optionElement.classList.add('selected');
                    }
                    
                    optionElement.innerHTML = `
                        <div class="option-letter">${letters[i]}</div>
                        <div class="option-text">${option}</div>
                    `;
                    
                    optionElement.addEventListener('click', () => this.selectOption(i));
                    optionsContainer.appendChild(optionElement);
                });
                
                document.getElementById('current-question').textContent = index + 1;
                document.getElementById('total-questions').textContent = this.currentQuiz.questions.length;
                document.getElementById('prev-btn').disabled = index === 0;
                
                const nextBtn = document.getElementById('next-btn');
                if (index === this.currentQuiz.questions.length - 1) {
                    nextBtn.textContent = this.currentQuiz.userAnswers[index] !== undefined ? 'Finish Quiz' : 'Finish (Select Answer First)';
                } else {
                    nextBtn.textContent = 'Next';
                }
                
                nextBtn.disabled = this.currentQuiz.userAnswers[index] === undefined;
            },
            
            selectOption(optionIndex) {
                if (!this.currentQuiz) return;
                
                const options = document.querySelectorAll('.quiz-option');
                options.forEach(opt => opt.classList.remove('selected'));
                options[optionIndex].classList.add('selected');
                
                this.currentQuiz.userAnswers[this.currentQuiz.currentIndex] = optionIndex;
                document.getElementById('next-btn').disabled = false;
                
                if (this.currentQuiz.currentIndex === this.currentQuiz.questions.length - 1) {
                    document.getElementById('next-btn').textContent = 'Finish Quiz';
                }
            },
            
            prevQuestion() {
                if (!this.currentQuiz || this.currentQuiz.currentIndex === 0) return;
                
                this.currentQuiz.currentIndex--;
                this.displayQuestion(this.currentQuiz.currentIndex);
            },
            
            nextQuestion() {
                if (!this.currentQuiz) return;
                
                if (this.currentQuiz.currentIndex < this.currentQuiz.questions.length - 1) {
                    this.currentQuiz.currentIndex++;
                    this.displayQuestion(this.currentQuiz.currentIndex);
                } else {
                    this.showResults();
                }
            },
            
            showResults() {
                if (!this.currentQuiz) return;
                
                let score = 0;
                const results = [];
                const letters = ['A', 'B', 'C', 'D'];
                
                this.currentQuiz.questions.forEach((q, i) => {
                    const userAnswer = this.currentQuiz.userAnswers[i];
                    const isCorrect = userAnswer === q.correct;
                    
                    if (isCorrect) score++;
                    
                    results.push({
                        question: q.question,
                        options: q.options,
                        userAnswer: userAnswer,
                        correctAnswer: q.correct,
                        isCorrect: isCorrect,
                        explanation: q.explanation,
                        topic: q.topic
                    });
                });
                
                // Display score
                document.getElementById('score').textContent = `${score}/${this.currentQuiz.questions.length}`;
                
                // Feedback message
                let message = "";
                const percentage = (score / this.currentQuiz.questions.length) * 100;
                
                if (percentage >= 90) {
                    message = "Excellent! You have mastered the concepts of Needs Analysis in ESP.";
                } else if (percentage >= 70) {
                    message = "Very good! You have a strong understanding of ESP needs analysis.";
                } else if (percentage >= 50) {
                    message = "Fair understanding. Review the explanations below to improve your knowledge.";
                } else {
                    message = "Review the course materials and try again. Focus on understanding the key concepts of needs analysis.";
                }
                
                document.getElementById('result-message').textContent = message;
                
                // Generate review
                const reviewContainer = document.getElementById('review-container');
                reviewContainer.innerHTML = '<h3 style="color: var(--secondary); margin-bottom: 20px; text-align: left;">Detailed Review</h3>';
                
                results.forEach((result, index) => {
                    const reviewDiv = document.createElement('div');
                    reviewDiv.className = `question-review`;
                    reviewDiv.style.cssText = `padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 5px solid ${result.isCorrect ? "var(--success)" : "var(--danger)"}; background: ${result.isCorrect ? "rgba(39, 174, 96, 0.05)" : "rgba(231, 76, 60, 0.05)"}`;
                    
                    let optionsHtml = '';
                    result.options.forEach((option, optIndex) => {
                        let optionClass = '';
                        if (optIndex === result.correctAnswer) {
                            optionClass = 'correct';
                        } else if (optIndex === result.userAnswer && !result.isCorrect) {
                            optionClass = 'incorrect';
                        }
                        
                        optionsHtml += `
                            <div class="quiz-option ${optionClass}" style="margin: 8px 0; cursor: default; padding: 12px; pointer-events: none;">
                                <div class="option-letter">${letters[optIndex]}</div>
                                <div class="option-text">${option}</div>
                                ${optIndex === result.correctAnswer ? '<span style="color: var(--success); margin-left: 10px;"><i class="fas fa-check-circle"></i> Correct</span>' : ''}
                                ${optIndex === result.userAnswer && !result.isCorrect ? '<span style="color: var(--danger); margin-left: 10px;"><i class="fas fa-times-circle"></i> Your choice</span>' : ''}
                            </div>
                        `;
                    });
                    
                    reviewDiv.innerHTML = `
                        <h4 style="color: ${result.isCorrect ? 'var(--success)' : 'var(--danger)'}; margin-bottom: 10px; text-align: left;">
                            Question ${index + 1}: ${result.isCorrect ? '<i class="fas fa-check"></i> Correct' : '<i class="fas fa-times"></i> Incorrect'}
                            <span style="font-size: 0.9rem; color: var(--light-text); background: rgba(108, 117, 125, 0.1); padding: 3px 8px; border-radius: 12px; margin-left: 10px;">${result.topic}</span>
                        </h4>
                        <p style="margin-bottom: 15px; font-weight: 500; text-align: left;">${result.question}</p>
                        ${optionsHtml}
                        <div style="background: rgba(155, 89, 182, 0.1); padding: 15px; border-radius: 8px; margin-top: 15px; font-size: 0.95rem; text-align: left;">
                            <strong>Explanation:</strong> ${result.explanation}
                        </div>
                    `;
                    
                    reviewContainer.appendChild(reviewDiv);
                });
                
                // Show results
                document.getElementById('quiz-content').style.display = 'none';
                document.getElementById('results-container').style.display = 'block';
                this.currentQuiz.completed = true;
            },
            
            restartQuiz() {
                if (!this.currentQuiz) return;
                
                this.currentQuiz.currentIndex = 0;
                this.currentQuiz.userAnswers = [];
                this.displayQuestion(0);
                document.getElementById('quiz-content').style.display = 'block';
                document.getElementById('results-container').style.display = 'none';
            },
            
            newQuiz() {
                this.initializeQuiz();
                document.getElementById('quiz-content').style.display = 'block';
                document.getElementById('results-container').style.display = 'none';
            },
            
            updateQuizUI() {
                if (!this.currentQuiz) return;
                
                document.getElementById('total-questions').textContent = this.currentQuiz.questions.length;
            }
        };
        
        // Initialize the application when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            ESPApp.init();
        });
    </script>
</body>
</html>
